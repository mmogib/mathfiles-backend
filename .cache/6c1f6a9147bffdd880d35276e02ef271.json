{"id":"Focm","dependencies":[{"name":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\package.json","includedInParent":true,"mtime":1534490769265},{"name":"./app/files/logger","loc":{"line":3,"column":23},"parent":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\index.js","resolved":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\app\\files\\logger.js"},{"name":"./app/files/ranks","loc":{"line":4,"column":33},"parent":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\index.js","resolved":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\app\\files\\ranks.js"},{"name":"./app/files/faculty","loc":{"line":9,"column":12},"parent":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\index.js","resolved":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\app\\files\\faculty.js"},{"name":"./app/files/publications","loc":{"line":15,"column":12},"parent":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\index.js","resolved":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\app\\files\\publications.js"},{"name":"./app/files/course_files","loc":{"line":16,"column":39},"parent":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\index.js","resolved":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\app\\files\\course_files.js"},{"name":"./app/files/syllabi","loc":{"line":17,"column":32},"parent":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\index.js","resolved":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\app\\files\\syllabi.js"},{"name":"./app/files/technical_reports","loc":{"line":18,"column":41},"parent":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\index.js","resolved":"E:\\dev\\projects\\department\\mathfiles\\mathfiles-backend\\app\\files\\technical_reports.js"}],"generated":{"js":"require(\"dotenv\").config();const a=require(\"node-cron\"),e=require(\"./app/files/logger\"),{saveAllRanks:t}=require(\"./app/files/ranks\"),{saveFaculty:s,saveFacultyPics:i,saveFacultyCourseFiles:l}=require(\"./app/files/faculty\"),{saveFacultyPublications:o,savePublicationsYears:n,savePublications:r,saveAllOtherAuthors:c}=require(\"./app/files/publications\"),{saveAllCourseFiles:u}=require(\"./app/files/course_files\"),{saveSyllabi:f}=require(\"./app/files/syllabi\"),{saveTechnicalReports:g}=require(\"./app/files/technical_reports\");u(),e.log(\"info\",\"Started running ... \"+(new Date).toLocaleString());const v=0,p=5,y=0,b=5;let h=10;a.schedule(\"0 \"+h+\" 0 * * *\",function(){const a=(new Date).toLocaleString();e.log(\"info\",`start saving active faculty in files at ${a}`),s(),e.log(\"info\",`start saving list of faculty ranks at ${a}`),t(),e.log(\"info\",`start saving active faculty course files at ${a}`),l(),e.log(\"info\",`start saving active faculty publications at ${a}`),o()}),h+=5,a.schedule(\"0 \"+h+\" 0 * * *\",function(){const a=(new Date).toLocaleString();e.log(\"info\",`start saving list of years at ${a}`),n(),e.log(\"info\",`start saving publications year by year at ${a}`),r(),e.log(\"info\",`start saving other authors at ${a}`),c(),e.log(\"info\",`start saving syllabi at ${a}`),f()}),h+=5,a.schedule(\"0 \"+h+\" 0 * * *\",function(){const a=(new Date).toLocaleString();e.log(\"info\",`start saving list of all course files at ${a}`),u(),e.log(\"info\",`start saving list of all technical reports at ${a}`),g()});","map":{"mappings":[{"source":"index.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":8},"generated":{"line":1,"column":8}},{"source":"index.js","name":"config","original":{"line":1,"column":18},"generated":{"line":1,"column":18}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":27}},{"source":"index.js","name":"cron","original":{"line":2,"column":6},"generated":{"line":1,"column":33}},{"source":"index.js","name":"require","original":{"line":2,"column":13},"generated":{"line":1,"column":35}},{"source":"index.js","original":{"line":2,"column":21},"generated":{"line":1,"column":43}},{"source":"index.js","name":"logger","original":{"line":3,"column":6},"generated":{"line":1,"column":56}},{"source":"index.js","name":"require","original":{"line":3,"column":15},"generated":{"line":1,"column":58}},{"source":"index.js","original":{"line":3,"column":23},"generated":{"line":1,"column":66}},{"source":"index.js","original":{"line":4,"column":6},"generated":{"line":1,"column":89}},{"source":"index.js","name":"saveAllRanks","original":{"line":4,"column":8},"generated":{"line":1,"column":102}},{"source":"index.js","name":"require","original":{"line":4,"column":25},"generated":{"line":1,"column":105}},{"source":"index.js","original":{"line":4,"column":33},"generated":{"line":1,"column":113}},{"source":"index.js","original":{"line":5,"column":6},"generated":{"line":1,"column":135}},{"source":"index.js","original":{"line":5,"column":6},"generated":{"line":1,"column":147}},{"source":"index.js","original":{"line":5,"column":6},"generated":{"line":1,"column":149}},{"source":"index.js","original":{"line":5,"column":6},"generated":{"line":1,"column":165}},{"source":"index.js","original":{"line":5,"column":6},"generated":{"line":1,"column":167}},{"source":"index.js","name":"saveFacultyCourseFiles","original":{"line":8,"column":2},"generated":{"line":1,"column":190}},{"source":"index.js","name":"require","original":{"line":9,"column":4},"generated":{"line":1,"column":193}},{"source":"index.js","original":{"line":9,"column":12},"generated":{"line":1,"column":201}},{"source":"index.js","original":{"line":10,"column":6},"generated":{"line":1,"column":225}},{"source":"index.js","original":{"line":10,"column":6},"generated":{"line":1,"column":249}},{"source":"index.js","original":{"line":10,"column":6},"generated":{"line":1,"column":251}},{"source":"index.js","original":{"line":10,"column":6},"generated":{"line":1,"column":273}},{"source":"index.js","original":{"line":10,"column":6},"generated":{"line":1,"column":275}},{"source":"index.js","original":{"line":10,"column":6},"generated":{"line":1,"column":292}},{"source":"index.js","original":{"line":10,"column":6},"generated":{"line":1,"column":294}},{"source":"index.js","name":"saveAllOtherAuthors","original":{"line":14,"column":2},"generated":{"line":1,"column":314}},{"source":"index.js","name":"require","original":{"line":15,"column":4},"generated":{"line":1,"column":317}},{"source":"index.js","original":{"line":15,"column":12},"generated":{"line":1,"column":325}},{"source":"index.js","original":{"line":16,"column":6},"generated":{"line":1,"column":354}},{"source":"index.js","name":"saveAllCourseFiles","original":{"line":16,"column":8},"generated":{"line":1,"column":373}},{"source":"index.js","name":"require","original":{"line":16,"column":31},"generated":{"line":1,"column":376}},{"source":"index.js","original":{"line":16,"column":39},"generated":{"line":1,"column":384}},{"source":"index.js","original":{"line":17,"column":6},"generated":{"line":1,"column":413}},{"source":"index.js","name":"saveSyllabi","original":{"line":17,"column":8},"generated":{"line":1,"column":425}},{"source":"index.js","name":"require","original":{"line":17,"column":24},"generated":{"line":1,"column":428}},{"source":"index.js","original":{"line":17,"column":32},"generated":{"line":1,"column":436}},{"source":"index.js","original":{"line":18,"column":6},"generated":{"line":1,"column":460}},{"source":"index.js","name":"saveTechnicalReports","original":{"line":18,"column":8},"generated":{"line":1,"column":481}},{"source":"index.js","name":"require","original":{"line":18,"column":33},"generated":{"line":1,"column":484}},{"source":"index.js","original":{"line":18,"column":41},"generated":{"line":1,"column":492}},{"source":"index.js","name":"saveAllCourseFiles","original":{"line":19,"column":0},"generated":{"line":1,"column":525}},{"source":"index.js","name":"logger","original":{"line":20,"column":0},"generated":{"line":1,"column":529}},{"source":"index.js","name":"log","original":{"line":20,"column":7},"generated":{"line":1,"column":531}},{"source":"index.js","original":{"line":20,"column":11},"generated":{"line":1,"column":535}},{"source":"index.js","original":{"line":20,"column":19},"generated":{"line":1,"column":542}},{"source":"index.js","original":{"line":20,"column":44},"generated":{"line":1,"column":566}},{"source":"index.js","name":"Date","original":{"line":20,"column":48},"generated":{"line":1,"column":570}},{"source":"index.js","name":"toLocaleString","original":{"line":20,"column":55},"generated":{"line":1,"column":576}},{"source":"index.js","original":{"line":25,"column":0},"generated":{"line":1,"column":594}},{"source":"index.js","name":"h","original":{"line":25,"column":6},"generated":{"line":1,"column":600}},{"source":"index.js","original":{"line":25,"column":10},"generated":{"line":1,"column":602}},{"source":"index.js","name":"m","original":{"line":26,"column":2},"generated":{"line":1,"column":604}},{"source":"index.js","original":{"line":26,"column":6},"generated":{"line":1,"column":606}},{"source":"index.js","name":"s","original":{"line":27,"column":2},"generated":{"line":1,"column":608}},{"source":"index.js","original":{"line":27,"column":6},"generated":{"line":1,"column":610}},{"source":"index.js","name":"increment_minutes","original":{"line":28,"column":2},"generated":{"line":1,"column":612}},{"source":"index.js","original":{"line":28,"column":22},"generated":{"line":1,"column":614}},{"source":"index.js","original":{"line":33,"column":0},"generated":{"line":1,"column":616}},{"source":"index.js","name":"minutes","original":{"line":33,"column":4},"generated":{"line":1,"column":620}},{"source":"index.js","name":"m","original":{"line":33,"column":14},"generated":{"line":1,"column":622}},{"source":"index.js","name":"cron","original":{"line":34,"column":0},"generated":{"line":1,"column":625}},{"source":"index.js","name":"schedule","original":{"line":34,"column":5},"generated":{"line":1,"column":627}},{"source":"index.js","name":"s","original":{"line":34,"column":14},"generated":{"line":1,"column":636}},{"source":"index.js","name":"minutes","original":{"line":34,"column":24},"generated":{"line":1,"column":641}},{"source":"index.js","original":{"line":34,"column":34},"generated":{"line":1,"column":643}},{"source":"index.js","original":{"line":34,"column":54},"generated":{"line":1,"column":654}},{"source":"index.js","name":"date","original":{"line":35,"column":8},"generated":{"line":1,"column":665}},{"source":"index.js","name":"date","original":{"line":35,"column":8},"generated":{"line":1,"column":671}},{"source":"index.js","original":{"line":35,"column":15},"generated":{"line":1,"column":674}},{"source":"index.js","name":"Date","original":{"line":35,"column":19},"generated":{"line":1,"column":678}},{"source":"index.js","name":"toLocaleString","original":{"line":35,"column":26},"generated":{"line":1,"column":684}},{"source":"index.js","name":"log","original":{"line":36,"column":9},"generated":{"line":1,"column":701}},{"source":"index.js","name":"log","original":{"line":36,"column":9},"generated":{"line":1,"column":703}},{"source":"index.js","original":{"line":36,"column":13},"generated":{"line":1,"column":707}},{"source":"index.js","name":"date","original":{"line":36,"column":64},"generated":{"line":1,"column":757}},{"source":"index.js","name":"saveFaculty","original":{"line":37,"column":2},"generated":{"line":1,"column":762}},{"source":"index.js","name":"log","original":{"line":38,"column":9},"generated":{"line":1,"column":766}},{"source":"index.js","name":"log","original":{"line":38,"column":9},"generated":{"line":1,"column":768}},{"source":"index.js","original":{"line":38,"column":13},"generated":{"line":1,"column":772}},{"source":"index.js","name":"date","original":{"line":38,"column":62},"generated":{"line":1,"column":820}},{"source":"index.js","name":"saveAllRanks","original":{"line":39,"column":2},"generated":{"line":1,"column":825}},{"source":"index.js","name":"log","original":{"line":40,"column":9},"generated":{"line":1,"column":829}},{"source":"index.js","name":"log","original":{"line":40,"column":9},"generated":{"line":1,"column":831}},{"source":"index.js","original":{"line":40,"column":13},"generated":{"line":1,"column":835}},{"source":"index.js","name":"date","original":{"line":40,"column":68},"generated":{"line":1,"column":889}},{"source":"index.js","name":"saveFacultyCourseFiles","original":{"line":41,"column":2},"generated":{"line":1,"column":894}},{"source":"index.js","name":"log","original":{"line":42,"column":9},"generated":{"line":1,"column":898}},{"source":"index.js","name":"log","original":{"line":42,"column":9},"generated":{"line":1,"column":900}},{"source":"index.js","original":{"line":42,"column":13},"generated":{"line":1,"column":904}},{"source":"index.js","name":"date","original":{"line":42,"column":68},"generated":{"line":1,"column":958}},{"source":"index.js","name":"saveFacultyPublications","original":{"line":43,"column":2},"generated":{"line":1,"column":963}},{"source":"index.js","name":"minutes","original":{"line":56,"column":0},"generated":{"line":1,"column":969}},{"source":"index.js","original":{"line":28,"column":22},"generated":{"line":1,"column":972}},{"source":"index.js","name":"cron","original":{"line":57,"column":0},"generated":{"line":1,"column":974}},{"source":"index.js","name":"schedule","original":{"line":57,"column":5},"generated":{"line":1,"column":976}},{"source":"index.js","name":"s","original":{"line":57,"column":14},"generated":{"line":1,"column":985}},{"source":"index.js","name":"minutes","original":{"line":57,"column":24},"generated":{"line":1,"column":990}},{"source":"index.js","original":{"line":57,"column":34},"generated":{"line":1,"column":992}},{"source":"index.js","original":{"line":57,"column":54},"generated":{"line":1,"column":1003}},{"source":"index.js","name":"date","original":{"line":58,"column":8},"generated":{"line":1,"column":1014}},{"source":"index.js","name":"date","original":{"line":58,"column":8},"generated":{"line":1,"column":1020}},{"source":"index.js","original":{"line":58,"column":15},"generated":{"line":1,"column":1023}},{"source":"index.js","name":"Date","original":{"line":58,"column":19},"generated":{"line":1,"column":1027}},{"source":"index.js","name":"toLocaleString","original":{"line":58,"column":26},"generated":{"line":1,"column":1033}},{"source":"index.js","name":"log","original":{"line":59,"column":9},"generated":{"line":1,"column":1050}},{"source":"index.js","name":"log","original":{"line":59,"column":9},"generated":{"line":1,"column":1052}},{"source":"index.js","original":{"line":59,"column":13},"generated":{"line":1,"column":1056}},{"source":"index.js","name":"date","original":{"line":59,"column":54},"generated":{"line":1,"column":1096}},{"source":"index.js","name":"savePublicationsYears","original":{"line":60,"column":2},"generated":{"line":1,"column":1101}},{"source":"index.js","name":"log","original":{"line":61,"column":9},"generated":{"line":1,"column":1105}},{"source":"index.js","name":"log","original":{"line":61,"column":9},"generated":{"line":1,"column":1107}},{"source":"index.js","original":{"line":61,"column":13},"generated":{"line":1,"column":1111}},{"source":"index.js","name":"date","original":{"line":61,"column":66},"generated":{"line":1,"column":1163}},{"source":"index.js","name":"savePublications","original":{"line":62,"column":2},"generated":{"line":1,"column":1168}},{"source":"index.js","name":"log","original":{"line":63,"column":9},"generated":{"line":1,"column":1172}},{"source":"index.js","name":"log","original":{"line":63,"column":9},"generated":{"line":1,"column":1174}},{"source":"index.js","original":{"line":63,"column":13},"generated":{"line":1,"column":1178}},{"source":"index.js","name":"date","original":{"line":63,"column":54},"generated":{"line":1,"column":1218}},{"source":"index.js","name":"saveAllOtherAuthors","original":{"line":64,"column":2},"generated":{"line":1,"column":1223}},{"source":"index.js","name":"log","original":{"line":65,"column":9},"generated":{"line":1,"column":1227}},{"source":"index.js","name":"log","original":{"line":65,"column":9},"generated":{"line":1,"column":1229}},{"source":"index.js","original":{"line":65,"column":13},"generated":{"line":1,"column":1233}},{"source":"index.js","name":"date","original":{"line":65,"column":48},"generated":{"line":1,"column":1267}},{"source":"index.js","name":"saveSyllabi","original":{"line":66,"column":2},"generated":{"line":1,"column":1272}},{"source":"index.js","name":"minutes","original":{"line":72,"column":0},"generated":{"line":1,"column":1278}},{"source":"index.js","original":{"line":28,"column":22},"generated":{"line":1,"column":1281}},{"source":"index.js","name":"cron","original":{"line":73,"column":0},"generated":{"line":1,"column":1283}},{"source":"index.js","name":"schedule","original":{"line":73,"column":5},"generated":{"line":1,"column":1285}},{"source":"index.js","name":"s","original":{"line":73,"column":14},"generated":{"line":1,"column":1294}},{"source":"index.js","name":"minutes","original":{"line":73,"column":24},"generated":{"line":1,"column":1299}},{"source":"index.js","original":{"line":73,"column":34},"generated":{"line":1,"column":1301}},{"source":"index.js","original":{"line":73,"column":54},"generated":{"line":1,"column":1312}},{"source":"index.js","name":"date","original":{"line":74,"column":8},"generated":{"line":1,"column":1323}},{"source":"index.js","name":"date","original":{"line":74,"column":8},"generated":{"line":1,"column":1329}},{"source":"index.js","original":{"line":74,"column":15},"generated":{"line":1,"column":1332}},{"source":"index.js","name":"Date","original":{"line":74,"column":19},"generated":{"line":1,"column":1336}},{"source":"index.js","name":"toLocaleString","original":{"line":74,"column":26},"generated":{"line":1,"column":1342}},{"source":"index.js","name":"log","original":{"line":75,"column":9},"generated":{"line":1,"column":1359}},{"source":"index.js","name":"log","original":{"line":75,"column":9},"generated":{"line":1,"column":1361}},{"source":"index.js","original":{"line":75,"column":13},"generated":{"line":1,"column":1365}},{"source":"index.js","name":"date","original":{"line":75,"column":65},"generated":{"line":1,"column":1416}},{"source":"index.js","name":"saveAllCourseFiles","original":{"line":76,"column":2},"generated":{"line":1,"column":1421}},{"source":"index.js","name":"log","original":{"line":77,"column":9},"generated":{"line":1,"column":1425}},{"source":"index.js","name":"log","original":{"line":77,"column":9},"generated":{"line":1,"column":1427}},{"source":"index.js","original":{"line":77,"column":13},"generated":{"line":1,"column":1431}},{"source":"index.js","name":"date","original":{"line":77,"column":70},"generated":{"line":1,"column":1487}},{"source":"index.js","name":"saveTechnicalReports","original":{"line":78,"column":2},"generated":{"line":1,"column":1492}}],"sources":{"index.js":"require('dotenv').config()\r\nconst cron = require('node-cron')\r\nconst logger = require('./app/files/logger')\r\nconst { saveAllRanks } = require('./app/files/ranks')\r\nconst {\r\n  saveFaculty,\r\n  saveFacultyPics,\r\n  saveFacultyCourseFiles\r\n} = require('./app/files/faculty')\r\nconst {\r\n  saveFacultyPublications,\r\n  savePublicationsYears,\r\n  savePublications,\r\n  saveAllOtherAuthors\r\n} = require('./app/files/publications')\r\nconst { saveAllCourseFiles } = require('./app/files/course_files')\r\nconst { saveSyllabi } = require('./app/files/syllabi')\r\nconst { saveTechnicalReports } = require('./app/files/technical_reports')\r\nsaveAllCourseFiles()\r\nlogger.log('info', 'Started running ... ' + new Date().toLocaleString())\r\n/*\r\nTime to execute \r\n*/\r\n\r\nconst h = 0,\r\n  m = 5,\r\n  s = 0,\r\n  increment_minutes = 5\r\n\r\n// 1)\r\n//save list of active faculty in files/faculty/faculty.json\r\n// every day at 12:05:00 AM\r\nlet minutes = m + increment_minutes\r\ncron.schedule(s + ' ' + minutes + ' ' + h + ' * * *', function() {\r\n  const date = new Date().toLocaleString()\r\n  logger.log('info', `start saving active faculty in files at ${date}`)\r\n  saveFaculty()\r\n  logger.log('info', `start saving list of faculty ranks at ${date}`)\r\n  saveAllRanks()\r\n  logger.log('info', `start saving active faculty course files at ${date}`)\r\n  saveFacultyCourseFiles()\r\n  logger.log('info', `start saving active faculty publications at ${date}`)\r\n  saveFacultyPublications()\r\n  /*\r\n  logger.log(\r\n    'info',\r\n    `start saving active faculty pictures in images at ${date}`\r\n  )\r\n  saveFacultyPics()\r\n  */\r\n})\r\n\r\n// 2)\r\n// save list of years in files/publications/years.json\r\n// every day at 12:25:00 AM\r\nminutes = minutes + increment_minutes\r\ncron.schedule(s + ' ' + minutes + ' ' + h + ' * * *', function() {\r\n  const date = new Date().toLocaleString()\r\n  logger.log('info', `start saving list of years at ${date}`)\r\n  savePublicationsYears()\r\n  logger.log('info', `start saving publications year by year at ${date}`)\r\n  savePublications()\r\n  logger.log('info', `start saving other authors at ${date}`)\r\n  saveAllOtherAuthors()\r\n  logger.log('info', `start saving syllabi at ${date}`)\r\n  saveSyllabi()\r\n})\r\n\r\n// 3)\r\n// save list of all course files in files/courseFiles/course_files.json\r\n// every day at 12:45:00 AM\r\nminutes = minutes + increment_minutes\r\ncron.schedule(s + ' ' + minutes + ' ' + h + ' * * *', function() {\r\n  const date = new Date().toLocaleString()\r\n  logger.log('info', `start saving list of all course files at ${date}`)\r\n  saveAllCourseFiles()\r\n  logger.log('info', `start saving list of all technical reports at ${date}`)\r\n  saveTechnicalReports()\r\n})\r\n"},"lineCount":null}},"hash":"b64962559cdf5cc2484616c8b44e950d","cacheData":{"env":{}}}